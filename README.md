<div id="header" align="center">
  <h1>TelegramBot RLT</h1>
  <img src="https://img.shields.io/badge/Python-3.10.11-F8F8FF?style=for-the-badge&logo=python&logoColor=20B2AA">
  <img src="https://img.shields.io/badge/aiogram-3.4.1-F8F8FF?style=for-the-badge&logo=telegram&logoColor=26A5E4">
  <img src="https://img.shields.io/badge/mongodb-555555?style=for-the-badge&logo=mongodb&logoColor=47A248">
</div>

# Примечание:
Совсем недавно я уже откликался на вашу вакансию, но, к сожалению, не смог выполнить тестовое задание подходящим способом. В данном варианте представлена попытка №2.

# Описание задачи:
Написание алгоритма агрегации статистических данных о зарплатах сотрудников компании по временным промежуткам. Коллекция со статистическими данными, которую необходимо использовать при выполнении задания, находится в папке [dump](dump/).

На обычном языке пример задачи выглядит следующим образом: «Необходимо посчитать суммы всех выплат с {28.02.2022} по {31.03.2022}, единица группировки - {день}».

**Алгоритм должен принимать на вход:**

1. Дату и время старта агрегации в ISO формате (dt_from).
2. Дату и время окончания агрегации в ISO формате (dt_upto).
3. Тип агрегации (group_type). Типы агрегации могут быть следующие: hour, day, month.

# Пример запроса/ответа:

Входные данные 1:
```
{
    "dt_from": "2022-09-01T00:00:00",
    "dt_upto": "2022-12-31T23:59:00",
    "group_type": "month"
}
```
Ответ 1:
```
{"dataset": [5906586, 5515874, 5889803, 6092634],
"labels": ["2022-09-01T00:00:00", "2022-10-01T00:00:00", "2022-11-01T00:00:00", "2022-12-01T00:00:00"]}
```
Комментарий к ответу: в нулевом элементе датасета содержится сумма всех выплат за сентябрь, в первом элементе сумма всех выплат за октябрь и т.д. В лейблах подписи соответственно элементам датасета.

# Запуск проекта:
- Клонируйте репозиторий и перейдите в него.
- Установите и активируйте виртуальное окружение.
- Установите зависимости из файла requirements.txt:
    ```
    python -m pip install --upgrade pip
    pip install -r requirements.txt
    ```
- Создайте файл **.env**, в корневой папке проекта:
    ```
    TG_TOKEN=Telegram_token
    URI=mongodb://localhost:27017/
    DB_NAME=sampleDB
    COLLECTION_NAME=sample_collection
    ```
- Запустите telegram бота в файле [bot.py](/src/bot.py)